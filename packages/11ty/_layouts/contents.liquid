---
layout: base.11ty.js
description: Table of Contents (TOC) page template. Page content from the markdown will appear in the content outlet below. The Table of Contents list will appear below that. It is scoped to show the contents of the full site. Pages can be removed from the TOC indivudally by setting toc to `false` in the page yaml.
---

<div class="{% render "page/class" %} quire-contents" id="main" role="main">
  {% render "page/header" %}
  
  <section class="section quire-page__content" id="content">
    
    {%- if content -%}
      <div class="container">
        <div class="content">
          {{ content }}
        </div>
      </div>
    {%- endif -%}
    
    {% comment %}
    the following class variable is defined in the page's front matter,
    likely it should be namespaced
    {% endcomment %}
    {% if class == "grid" or class == "abstract" or class == "brief" %}
      {% assign contentsListClass = class %}
      {% if class == "grid" %}
        {% assign containerClass = "is-fullhd" %}
      {% endif %}
    {% else %}
      {% assign contentsListClass = "list" %}
    {% endif %}

    <div class="container {{ containerClass }}">
      <div class="quire-contents-list {{ contentsListClass }}">
        <div class="menu-list">
          {% if section %}
            {% comment %}
            @todo Should see if contentsList can be refactored with the 11ty navigation plugin
            and should replace ".Site.Pages" with "collections.page"
            {% endcomment %}
            {% for page in collection.all %}
              {% if page.section == section %}
                {% assign scope = section %}
                {%- render 'contents-list',
                    "site": .Site,
                    "contentsScope": scope,
                    "contentsType": site.params.tocType,
                    "pdf": ".Params.pdf",
                    "epub": ".Params.epub",
                    "contentsLocation": ".Params.toc",
                    "contentsPage": .
                -%}
                }
              {% endif %}
            {% endfor %}
          {% else %}
            {% assign scope = collection.all %}
            {%- render 'contents-list',
                "site": .Site,
                "contentsScope": scope,
                "contentsType": site.params.tocType,
                "pdf": ".Params.pdf",
                "epub": ".Params.epub",
                "contentsLocation": ".Params.toc",
                "contentsPage": .
            -%}
          {% endif %}
        </div>
        <div class="content">
          {% render "page/bibliography" %}
        </div>
      </div>
      {% render "footer-buttons" %}
    </div>
  </section>
</div>
