{% assign src = "https://vimeo.com/" | append: mediaId %}

{% if site.params.epub or site.params.pdf %}
  {% render 'fallback', alt: alt, id: id, mediaType: mediaType, src: src %}

  <figcaption class="quire-figure__caption caption">
    <a href="src" target="_blank">{{ src }}</a>
  </figcaption>

{% else %}
  <div class="q-figure__media-wrapper--{{ aspectRatio or 'widescreen' }}">
    <iframe
      allow="autoplay; fullscreen"
      allowfullscreen
      class="q-figure__media"
      frameborder="0"
      src="https://player.vimeo.com/video/{{ mediaId }}"
    />
  </div>
{% endif %}

{% assign params = { caption: caption, credit: credit, label: label } %}

{% label and site.params.figureLabelLocation == 'on-top' %}
  {% render '../label.liquid' with params %}
{% endif %}

{% render '../caption.liquid' with params %}