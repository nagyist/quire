{% assign src = "https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/" | append: mediaId %}

{% if site.params.epub or site.params.pdf %}
  {% render 'fallback', alt: alt, id: id, mediaType: mediaType, src: src %}

  <figcaption class="q-figure__caption caption">
    <a href="src" target="_blank">{{ src }}</a>
  </figcaption>

{% else %}
  <div class="q-figure__media-wrapper">
    <iframe
      allow="autoplay"
      frameborder="no"
      height="166"
      scrolling="no"
      src="{{ src }}&auto_play=false&color=%23ff5500&hide_related=true&show_comments=false&show_reposts=false&show_teaser=false&show_user=false"
      width="100%"
    />
  </div>
{% endif %}

{% assign params = { caption: caption, credit: credit, label: label } %}

{% label and site.params.figureLabelLocation == 'on-top' %}
  {% render '../label' with params %}
{% endif %}

{% render '../caption' with params %}